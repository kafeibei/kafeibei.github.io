"use strict";define(["utils/muiview","utils/muiajax"],function(e,t){var i={};return i.choose=function(t,n){var a=[{title:"拍照"},{title:"选择照片"}];e.osplus()?plus.nativeUI.actionSheet({cancel:"取消",buttons:a},function(e){switch(e.index){case 1:i.byCamera(t,n);break;case 2:i.byGallery(t,n);break;default:console.info(e.index)}}):n&&n(1,{name:"测试图片呀",url:"http://www.seendio.com/static/img/video.29828cb.png"})},i.byCamera=function(e,i){plus.camera.getCamera().captureImage(function(n){plus.io.resolveLocalFileSystemURL(n,function(n){t(n.toLocalURL(),e,i)},function(e){plus.nativeUI.toast("读取拍照文件错误："+e.message)})},function(e){console.error(e)},{filter:"image",multiple:!1,system:!1})},i.byGallery=function(e,i){plus.gallery.pick(function(n){t(n,e,i)},function(e){8===e.code&&mui.alert("您可以在“隐私设置”中启用访问","此应用没有权限访问您的照片","好的")},{filter:"image",multiple:!1,system:!1})},i});