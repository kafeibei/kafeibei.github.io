"use strict";require(["vue","components/navBar","components/widgetLoading","utils/utils","utils/muiview","utils/audio","config/router"],function(i,t,e,o,r,n,s){t(),e();new i({el:"#page-container",data:function(){return{title:"音频选择",navBarConfig:{left:{type:"icon",action:"back"},right:{title:"确定",action:this.doSubmit}},finish:!1,errorcode:"",listItems:[],curAudio:{},curIndex:-1,pageFrom:""}},created:function(){var i=this;r.webviewParams(function(t){i.pageFrom=t.pageFrom}),this.directory()},methods:{directory:function(){var i=this;n.directory("audio",function(t,e){i.finish=!0,t>0?e&&e[0]?(i.listItems=e,i.errorcode=""):(i.listItems=[],i.errorcode="暂无可选择的录音文件~",i.navBarConfig.right.title="返回"):(i.listItems=[],i.errorcode=e,i.navBarConfig.right.title="返回")})},chooseAudio:function(i,t){this.curAudio=i,this.curIndex=t},doSubmit:function(){return this.listItems&&this.listItems[0]?this.curAudio.name?void this.closeSheet(this.curAudio):(r.toast({message:"请先选择音频文件"}),!1):(this.closeSheet(),!1)},closeSheet:function(i){return i?(r.fire(s[this.pageFrom].id,"fireAudioChoose",i),void r.back()):(r.back(),!1)},cleanHistory:function(){var i=this;r.confirm({message:"确定要清除所有的录音文件？不可逆操作，请慎重",onClose:function(t){t&&n.cleanHistory(function(t){var e=void 0;e=t>0?"清除所有录音文件成功":"清除所有录音文件失败",r.toast({message:e,onClose:function(){t>0&&(i.finish=!1,i.errorcode="",i.directory())}})})}})},goPage:function(i){r.openWebview({url:"/dist/pages/choose/"+i+".html",id:"audio-"+i})}}})});