"use strict";define(["mui","utils/headers","utils/muiview","utils/userinfo","utils/utils","config/router","utils/apifix"],function(e,r,t,n,a,o,s){var u={};return u.getUrl=function(e){return s()+e},u.createAPI=function(s,i){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise(function(f,d){var m=r();"get"!==i&&(m["Content-Type"]="application/json");var g={dataType:"JSON",type:i||"get",headers:m,timeout:6e4,success:function(e){if("string"==typeof e&&(e=JSON.parse(e)),"400"!==e.code){if(e.code&&"100"!==e.code){var r={error_code:"AJAX_ERROR",error_message:e.message||"接口访问错误啦",status:e.code,data:e.data||e};return d(r)}return f(e.data||e)}if(t.curHref().indexOf("login")===-1)return n.removeUserInfo(),t.openWebview(o.login),t.loading.close(),{}},error:function(e){var r=e.response||e,t=void 0;return t=r.message?{error_code:r.error,error_message:500===r.status?"您的操作太快了，小易需要休息一下，请您稍后再试":r.message,status:r.status}:{error_code:"AJAX_ERROR",error_message:"接口访问错误啦~",status:500},d(t)}};c.data&&(g.data=c.data);var p=u.getUrl(s);return c.params&&(p+="?"+a.codeParam(c.params)),e.ajax(p,g)})},u.createMock=function(r){return new Promise(function(t,n){var a="https://www.easy-mock.com/mock/5bd13b15b36f2c5eac3a91ec/app/"+r;return e.ajax(a,{success:function(e){return t(e.data||e)},error:function(e){return n(e)}})})},u.createConfig=function(r){return new Promise(function(t,n){return e.ajax(r,{success:function(e){return"string"==typeof e&&(e=JSON.parse(e)),t(e.data||e)},error:function(e){return n(e)}})})},u});