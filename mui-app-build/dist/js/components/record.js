"use strict";define(["vue","utils/muiview","utils/record"],function(t,s,i){var n=function(){t.component("record-sheet",{props:["options"],template:'<div class="mui-popover-content record-sheet">\n        <div class="mui-table-title hg-flex">\n          <span class="btntext" @click="doCancel">取消</span>\n          <h3 class="flex-one">语音输入</h3>\n          <span class="btntext">&nbsp;</span>\n        </div>\n        <div class="mui-table-view">\n          <div class="mui-table-area">\n            <div class="status-begin" v-if="status === -1" @click="startRecord">\n              开始录音\n            </div>\n            <div class="going-area" v-else-if="status === 1">\n              <div class="status-going">\n                <div class="process-area">\n                  <div class="process-going"></div>\n                </div>\n              </div>\n              <div class="btntext" @click="stopRecord">说完了</div>\n            </div>\n            <div class="status-end" v-if="status ===  2">\n              <p class="btntext">{{uploadText}}</p>\n            </div>\n          </div>\n        </div>\n    \t</div>',data:function(){return{status:0,uploadText:""}},created:function(){this.status=-1},methods:{doCancel:function(){1===this.status&&this.stopRecord(),this.$emit("finish",-1),mui("#"+this.options.id).popover("toggle")},doConfirm:function(t){this.$emit("finish",1,t),mui("#"+this.options.id).popover("toggle")},startRecord:function(){var t=this;i.start("record",function(s){s>0&&(t.status=1)})},stopRecord:function(){var t=this;i.stop("record",function(s,i){1===s?(t.status=2,t.uploadText="录音上传中"):2===s&&(t.uploadText="录音上传成功",setTimeout(function(){t.doConfirm(i),t.status=0},1e3))})}}})};return n});