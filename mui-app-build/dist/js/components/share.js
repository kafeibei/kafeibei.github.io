"use strict";define(["vue","qrcode","utils/muiview","config/router","utils/share"],function(e,t,s,i,o){var n=function(){e.component("share-sheet",{props:{shareopts:Object},template:'<div :id="idKey" class="mui-popover mui-popover-action mui-popover-bottom">\n        <div class="mui-content">\n          <ul class="share-list hg-flex flex-wrap">\n            <li class="share-item" v-for="item in services" :key="item.key" @tap="doItem(item)">\n              <div class="icon" :class="\'icon-\' + item.key"></div>\n              <span class="description">{{item.description}}</span>\n            </li>\n          </ul>\n          <div class="mui-button" @tap="closeSheet">取消</div>\n  \t\t\t</div>\n  \t\t</div>',data:function(){return{idKey:"share-sheet",services:[]}},created:function(){this.getServices()},methods:{getServices:function(){var e=this;o.getServices(function(t){e.services=t})},doItem:function(e){switch(e.id){case"copy":s.copyToClip(this.shareopts.href);break;case"qrcode":break;default:this.goShare(e)}},goShare:function(e){var t=this;e.scene?this.shareopts.extra={scene:e.scene}:delete this.shareopts.extra,e.send&&e.send instanceof Function?e.send(this.shareopts,function(e){s.toast({message:"分享成功",onClose:function(){t.closeSheet()}})},function(e){console.error("rej",JSON.stringify(e)),s.toast({message:e.code===-2?"已取消分享":"分享失败",onClose:function(){t.closeSheet()}})}):s.toast({message:"不支持该种分享方式"})},closeSheet:function(){mui("#"+this.idKey).popover("toggle")}}})};return n});