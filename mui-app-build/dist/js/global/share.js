"use strict";require(["vue","qrcode","utils/muiview","config/router","utils/share"],function(e,s,t,n,a){new e({el:"#page-container",data:function(){return{model:"share",title:"分享页",services:"",shareOpts:{},pageFrom:""}},created:function(){var e=this;t.webviewParams(function(s){e.shareOpts.href=s.link,e.shareOpts.title=s.shareTitle,e.shareOpts.content=s.shareDescription,e.shareOpts.thumbs=s.shareImg,e.pageFrom=s.pageFrom,e.getServices()})},methods:{getServices:function(){var e=this;a.getServices(function(s){e.services=s})},doItem:function(e){switch(e.id){case"copy":t.copyToClip(this.shareOpts.href);break;case"qrcode":break;default:this.goShare(e)}},goShare:function(e){var s=this;e.scene?this.shareOpts.extra={scene:e.scene}:delete this.shareOpts.extra,e.send&&e.send instanceof Function?e.send(this.shareOpts,function(e){t.toast({message:"分享成功",onClose:function(){s.goCancel()}})},function(e){console.error("rej",JSON.stringify(e)),t.toast({message:e.code===-2?"已取消分享":"分享失败",onClose:function(){s.goCancel()}})}):t.toast({message:"不支持该种分享方式"})},goCancel:function(){t.fire(n[this.pageFrom].id,"closeMask"),t.back()},closeMask:function(e){e.target.className.indexOf("page-container")>-1&&this.goCancel()}}})});