"use strict";!function(i){function a(t,i){this.options={activityClass:"activity-status",shakeClass:"shake-animation",shakeMp3:"../../common/audio/shake.mp3",coinMp3:"../../common/audio/coin.mp3"},this.element=$(i),$.extend(this.options,t),this.init()}(a.prototype=new i.Raffle).extraEvent=function(){this.initModal(),this.initShake()},a.prototype.initAudio=function(){this.shakeAudio=new Audio,this.shakeAudio.src=this.options.shakeMp3},a.prototype.initShake=function(){var t=this;this.initAudio(),this.shakeEvent=new Shake({threshold:15,timeout:1e3}),this.shakeEvent.start(),i.addEventListener("shake",function(){t.shake&&t.shakeEventDidOccur()},!1)},a.prototype.shakeEventDidOccur=function(){var s=this;this.shakeAudio.play(),setTimeout(function(){s.shakeAudio.pause(),s.shakeAudio.src=s.options.coinMp3,s.shakeAudio.play(),s.lotteryModal(function(t,i){s.shake=!1,0<t?(s.drawModal(i),s.element.find(".shake-area").removeClass(s.options.shakeClass),s.element.find(".raffle-reset").addClass(s.options.activityClass)):s.utils.toast({msg:i})})},1e3)},a.prototype.initReset=function(){var t=this.limit();if(t)return this.utils.toast({msg:t}),!1;this.shake=!0,this.element.find(".raffle-reset").removeClass(this.options.activityClass),this.element.find(".shake-area").addClass(this.options.shakeClass)},$.fn.iShare=function(i){var s=this,e=Array.prototype.slice.call(arguments,1);return this.each(function(){var t=$(s).data("ishake");t?t[i].apply(t,e):t=$(s).data("ishake",new a(i,s))})}}(window);