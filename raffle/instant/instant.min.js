"use strict";!function(){function s(t,i){this.options={activityClass:"activity-status",result_tpl:'<div class="instant-inner hg-flex hg-flex-center"><div class="img-box instant-pic {{liv_pic_hide}}">{{liv_pic}}</div><div class="hg-flex-one instant-info"><h2 class="instant-title">{{liv_title}}</h2><p class="instant-reward">{{liv_reward}}</p></div></div>',error_tpl:'<div class="instant-inner hg-flex hg-flex-center hg-justify-center"><p class="instant-reward">{{liv_message}}</p></div>'},this.element=$(i),$.extend(this.options,t),this.init()}(s.prototype=new window.Raffle).extraEvent=function(){this.initInstant()},s.prototype.initInstant=function(){this.initModal(),this.renderView()},s.prototype.initReset=function(){this.renderView()},s.prototype.renderView=function(){var n=this,t=this.limit();if(t)return this.utils.toast({msg:t}),this.renderInstant(t),!1;this.lotteryModal(function(t,i){0<t?i.redeemable?n.renderInstant(i):n.renderInstant(i.reward):n.renderInstant(i)})},s.prototype.renderInstant=function(n){var t=void 0;t="string"==typeof n?this.options.error_tpl.replace("{{liv_message}}",n):this.options.result_tpl.replace(/{{liv_(.*?)}}/g,function(t,i){return"pic"===i?n.pic?'<img src="'+n.pic+'" title="'+n.reward+'">':"":"pic_hide"===i?n.pic?t.replace("{{liv_"+i+"}}",""):"hide":t.replace("{{liv_"+i+"}}",n[i]||"")}),this.element.find(".instant-content").removeClass("hide").empty().append(t)},$.fn.instant=function(i){var n=this,e=Array.prototype.slice.call(arguments,1);return this.each(function(){var t=$(n).data("instant");t?t[i].apply(t,e):t=$(n).data("instant",new s(i,n))})}}();