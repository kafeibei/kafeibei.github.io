"use strict";!function(r){var s={randomGap:function(e,t){return Math.floor(Math.random()*(e-t))+t},mobileDevice:function(e){var t=navigator.userAgent.toLowerCase();return e?/micromessenger/.test(t)?"wechat":/dingtalk/.test(t)||/aliapp/.test(t)?"dingding":"other":/iphone|ipod|ipad/gi.test(t)?"iOS":/android/gi.test(t)?"Android":"Other"},http:function(a,e){$.ajax({url:a.url,type:a.method||"get",data:e||{},contentType:a.contentType||"application/x-www-form-urlencoded",timeout:38e3,dataType:"json",crossDomain:!0,xhrFields:{withCredentials:!0},success:function(e,t,i){$.isFunction(a.success)&&a.success(e)},error:function(e,t,i){$.isFunction(a.error)&&a.error(e)}})}};s.loading={_tmpl:function(){return'<div class="loader loader-area"> <div class="loader-content">    <div class="loader-progress">     <div class="loader-animate"></div>      加载中...    </div>  </div></div>'},_create:function(e){this.loading=$(this._tmpl()).appendTo("body").css({position:"absolute",width:e.width+"px",height:e.height+"px",left:e.left+"px",top:e.top+"px",display:"inline-block","z-index":1e5<e["z-index"]?e["z-index"]:1e5,"background-color":"rgba(0, 0, 0, 0.0)"})},show:function(e){if(void 0===e&&(e=$("body")),!(e="string"==typeof e?$(e):e).length)return!1;var t={};$.extend(t,e.offset()),t.width=e.outerWidth(),t.height=e.outerHeight(),t["z-index"]=e.css("z-index"),this._create(t)},close:function(){this.loading&&this.loading.remove(),this.loading=null,setTimeout(function(){var e=$("body").find(".loader");e.length&&e.remove(),e=null},200)}},s.toast=function(e,t){var i={delay:1500};if("string"==typeof e?i.msg=e:i=$.extend(i,e),!i.msg)return!1;s.timeout&&(clearTimeout(s.timeout),s.timeout=null);var a=$("body").find(".toastTip");if(!a.length){var n={position:"fixed",left:"50%",top:"50%","z-index":9999,background:"rgba(0,0,0,0.8)",color:"#fff","-webkit-transform":"translate3d(-50%, -50%, 0)",transform:"translate3d(-50%, -50%, 0)"};n=$.extend({"line-height":"28px",padding:"5px 10px","border-radius":"3px","font-size":"14px"},n),a=$('<div class="toastTip"/>').appendTo("body").css(n)}a.html(i.msg),s.timeout=setTimeout(function(){a.remove(),$.isFunction(t)&&t()},i.delay)},s.modal=function(i){i=$.extend({title:"提示",brief:"",id:"",ok:"确定",cancel:"取消"},i);var t=$("#"+i.id);if(!t.length){var e='<div class="modal-page hide" id="'+i.id+'"><div class="modal-box"><p class="modal-title">{{liv_title}}</p><p class="modal-brief">{{liv_brief}}</p><div class="modal-button"><a class="btn btn-middle btn-default btn-cancel" attr="cancel">{{liv_cancel}}</a><a class="btn btn-middle btn-primary btn-ok" attr="ok">{{liv_ok}}</a></div></div></div>';t=$(e).appendTo("body")}t.off("click",".btn").on("click",".btn",function(){var e=$(this).attr("attr");i[e+"Back"]&&i[e+"Back"](),t.addClass("hide")});var a=t.removeClass("hide").html();a=a.replace(/{{liv_(.*?)}}/g,function(e,t){return e.replace("{{liv_"+t+"}}",i[t]||"")}),t.html(a)},s.storage={set:function(e,t,i,a){a=a||"localStorage";var n={value:JSON.stringify(t)};if("number"==typeof i){var o=60*i*1e3;n.timestamp=(new Date).getTime()+o}else n.timestamp=null;return r[a].setItem(e,JSON.stringify(n))},get:function(e,t){t=t||"localStorage";var i=JSON.parse(r[t].getItem(e));return!(!i||!i.value)&&(null===i.timestamp?JSON.parse(i.value):(new Date).getTime()<i.timestamp&&JSON.parse(i.value)||!1)},remove:function(e,t){r[t=t||"localStorage"].removeItem(e)},clear:function(e){r[e=e||"localStorage"].clear()}},s.formatTime=function(e,t){t=t||"yyyy-MM-dd HH:mm:ss";var i=(e=e?new Date(e):new Date).getFullYear(),a=s.formatNumber(e.getMonth()+1),n=s.formatNumber(e.getDate()),o=s.formatNumber(e.getHours()),r=s.formatNumber(e.getMinutes()),l=s.formatNumber(e.getSeconds());return t=t.replace("yyyy",i).replace("MM",a).replace("dd",n).replace("HH",o).replace("mm",r).replace("ss",l)},s.formatNumber=function(e){return(e=e.toString())[1]?e:"0"+e},r.utils=s}(window);